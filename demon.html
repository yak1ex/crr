<html>
<head>
<link rel="stylesheet" href="crrlib.css" type="text/css" />
<!--<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/0.22.0/math.min.js"></script>
<script src="crrlib.js"></script>
<script type="text/javascript">
window.onload = function() {
    var math = mathjs();
    var crr = crrlib();
    var idx1 = crr.make_helper('idx1');
    var table_old = [], table_new = [];
    var colors = ['#000000','#0000ff','#ff0000', '#ff00ff', '#00ff00', '#00ffff', '#ffff00', '#ffffff'];
    crr.init('#crr-container', {
        type: 'integer',
        extent: { l: 0, b: 0, t: 100, r: 100 },
        size: { x: 100, y: 100 },
        cell: function(z) {
            return { fill: colors[table_new[idx1(z)]] }
        }
    });
    for(var j = 0; j < 100; ++j) {
        for(var i = 0; i < 100; ++i) {
            table_new[idx1(i,j)] = Math.ceil(Math.random() * colors.length);
        }
    }

    crr.run();

}
</script>
</head>
<body>
<div id="crr-container"></div>
</body>
</html>
